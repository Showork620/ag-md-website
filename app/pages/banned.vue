<script setup lang="ts">
const { data: session, signOut } = useAuth()

const handleSignOut = async () => {
  await signOut({ callbackUrl: '/' })
}
</script>

<template>
  <div class="banned-container">
    <div class="banned-card">
      <div class="banned-icon">ğŸš«</div>
      
      <h1>ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒåœæ­¢ã•ã‚Œã¦ã„ã¾ã™</h1>
      
      <div v-if="session?.user?.banReason" class="ban-reason">
        <h2>ç†ç”±</h2>
        <p>{{ session.user.banReason }}</p>
      </div>
      
      <div v-if="session?.user?.canContactAdmin" class="contact-info">
        <p>
          ã“ã®æªç½®ã«å¿ƒå½“ãŸã‚ŠãŒãªã„å ´åˆã€ã¾ãŸã¯ç•°è­°ã‚’ç”³ã—ç«‹ã¦ãŸã„å ´åˆã¯ã€<br>
          ç®¡ç†è€…ã«ã”é€£çµ¡ãã ã•ã„ã€‚
        </p>
        <a href="mailto:admin@example.com" class="contact-button">
          ç®¡ç†è€…ã«é€£çµ¡
        </a>
      </div>
      
      <div v-else class="permanent-ban">
        <p class="permanent-message">
          ã“ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¯æ°¸ä¹…ã«åœæ­¢ã•ã‚Œã¦ã„ã¾ã™ã€‚
        </p>
      </div>
      
      <CAButton @click="handleSignOut" variant="outline" class="logout-button">
        ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
      </CAButton>
    </div>
  </div>
</template>

<style scoped>
.banned-container {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 2rem;
  background-color: var(--color-bg-base);
}

.banned-card {
  max-width: 500px;
  width: 100%;
  background-color: var(--color-bg-elevated);
  border: 2px solid #ff4d4f;
  border-radius: 12px;
  padding: 3rem 2rem;
  text-align: center;
}

.banned-icon {
  font-size: 4rem;
  margin-bottom: 1rem;
}

.banned-card h1 {
  font-size: 1.75rem;
  color: var(--color-text-primary);
  margin: 0 0 2rem 0;
}

.ban-reason {
  background-color: rgba(255, 77, 79, 0.1);
  border: 1px solid rgba(255, 77, 79, 0.3);
  border-radius: 8px;
  padding: 1.5rem;
  margin-bottom: 2rem;
  text-align: left;
}

.ban-reason h2 {
  font-size: 1rem;
  font-weight: 600;
  color: #ff4d4f;
  margin: 0 0 0.5rem 0;
}

.ban-reason p {
  font-size: 0.95rem;
  color: var(--color-text-primary);
  margin: 0;
  line-height: 1.5;
}

.contact-info {
  margin-bottom: 2rem;
}

.contact-info p {
  font-size: 0.95rem;
  color: var(--color-text-secondary);
  margin: 0 0 1.5rem 0;
  line-height: 1.6;
}

.contact-button {
  display: inline-block;
  padding: 0.75rem 1.5rem;
  background-color: var(--color-primary);
  color: white;
  text-decoration: none;
  border-radius: 6px;
  font-weight: 500;
  transition: all 0.2s;
}

.contact-button:hover {
  filter: brightness(1.1);
}

.permanent-ban {
  margin-bottom: 2rem;
}

.permanent-message {
  font-size: 0.95rem;
  color: var(--color-text-secondary);
  margin: 0;
  font-style: italic;
}

.logout-button {
  margin-top: 1rem;
}
</style>
